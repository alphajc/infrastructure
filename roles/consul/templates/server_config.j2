{
  "ui": true,
  "retry_join": ["{{ hostvars | json_query('*.ansible_em1.ipv4.address') | first }}"],
  "retry_interval": "30s",
  "retry_max": 10,
  "disable_remote_exec": true,
  "domain": "consul.",
  "data_dir": "/data/consul",
  "dns_config": {
    "allow_stale": false,
    "max_stale": "5s",
    "node_ttl": "0s",
    "service_ttl": {
      "*": "0s"
    },
    "enable_truncate": false,
    "only_passing": false
  },
  "log_level": "INFO",
  "node_name": "{{ ansible_nodename }}",
  "server": true,
  "client_addr": "127.0.0.1",
  "bind_addr": "{{ ansible_em1.ipv4.address }}",
  "advertise_addr": "{{ ansible_em1.ipv4.address }}",
  "datacenter": "dc0",
  "bootstrap_expect": {{ groups['consuls'] | count }},
  "encrypt": "W3AqgGgBN40Q4lv7L63sCA==",
  "ports": {
    "dns": 8600,
    "http": 8500,
    "https": -1,
    "serf_lan": 8301,
    "serf_wan": 8302,
    "server": 8300
  },
  "rejoin_after_leave": true,
  "leave_on_terminate": false,
  "disable_update_check": false
}
